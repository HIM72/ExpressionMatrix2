<!DOCTYPE html>
<html>

<head>
<link rel=stylesheet href=style.css />
<link rel=icon href="https://s0.wp.com/wp-content/themes/vip/czi/images/build/favicon.ico" />
</head>

<body>

<h1>Visualizing and analyzing using the http server</h1>

<h2>Starting the server</h2>
The ExpressionMatrix2 code can be started in http server mode using the Python code seen in tests/ToyTest1/runServer.py. The call to explore specifies a port number for the server to listen to.
In this mode of operation, ExpressionMatrix2 code maps all of its data structures in virtual memory, then waits for requests from a client, that is, a Web browser. This allows exploring the expression matrix data in a variety of ways, including creating cell similarity graphs.

<h2> Security warning</H2>
<p>
Keep in mind that the server has no mechanism in place to control access. This means that, when the server is running, YOUR DATA WILL BE ACCESSIBLE TO ANYBODY WITH ACCESS TO THE LOCAL MACHINE, OR TO ANY LOCAL OR REMOTE MACHINE FOR WHICH FIREWALL RULES ALLOW AN INBOUND CONNECTION TO THE SERVER PORT.
<p>
If access to the data being analyzed needs to be limited, FIREWALL RULES OR OTHER PROVISIONS MUST BE DEPLOYED TO PREVENT UNAUTHORIZED ACCESS. The easiest way to prevent access to other users is to run the server on a single-user machine with a firewall setup that allows no inbound connections, and then to access the server from a browser running on the same single-user machine.

<h2>Starting the browser</h2>
<p>
In the simplest case, the browser runs on the same machine that runs the server. In this case, you can access the server by pointing your browser to <a href="http://localhost:17100">http://localhost:17100</a>, where the port number must agree with the port number used in the Python code that started the server. 

<p>
Alternatively, the browser can run on a different machine. In this case the URL must specify, instead of localhost, the name or ip address of the machine running the server. Note that, fr this mode of operation to work, firewall rules on the machine running the server mst allow inbound connections to the port the server is listening to. In this case, the security warning in the previous section applies.

<p>
Note that, if the server uses an ipv6 address, the ip address must be enclosed in brackets [].

<p>
The ExpressionMatrix2 code was developed an tested using Firefox as a browser. However most functionality should work with most major browsers.



<h2>Server data flow</h2>

<p>The http server supports the following types of functionality:

<ul>
<li>Browsing expression data and meta data by gene or by cells. This is accessed by clicking on button "Genes" or "Cells" near the top of the browser window. In both cases, a gene or cell can be specified by using either an index (which is zero for the first gene and/or cell), or a case-sensitive name.
<li>Comparing expression counts of two cells (click on "Compare two cells"). This creates a scatter plot of the expression counts for the two specified cells, plus additional information, and a table allowing easy comparison of the expression counts.
<li>Performing various operations on cell meta data (click on "Cell Meta Data").
<li>Creating cell sets. A cell set is a subset of the cells that satisfies specified criteria. See <a href=Server.html#cellSets>Cell sets</a> below.
<li>Creating cell similarity graphs. See <a href=Server.html#graphs>Cell similarity graphs</a> below.
</ul>

<p>
The server has no notion of users. If multiple users access the same server, they all see all of the cell sets and cell similarity graphs created by all users. Also, each is allowed to remove cell sets and graphs created by other users. Server operation is singlke-threaded, so multi-user operations are serialized. In other words, if a user starts a long-run ing operation such as creating a large graph, other users will have to wait for completion of the long-running operation before the server responds to their requests. Depending on network and browser set up, under these circumstances a user could encounter a time out.



<h2 id=cellSets>Cell sets</h2>



<h2 id=graphs>Cell similarity graphs</h2>







</body>
</html>
