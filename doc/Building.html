<!DOCTYPE html>
<html>

<head>
<link rel=stylesheet href=style.css />
<link rel=icon href="https://s0.wp.com/wp-content/themes/vip/czi/images/build/favicon.ico" />
</head>

<body>

<h1>Building from source</h1>

<p>
The ExpressionMatrix2 code currently supports the following platforms:

<ul>
<li>Ubuntu 16.0, for use with Python 3.5.
<li>CentOs 7, for use with Python 2.7 (beginning with Release 0.2.0).
</ul>

<p>
To run in one of the above platforms, you can use one of the ExpressionMatrix2 releases 
from GitHub. However,you will need to build the code from source if you want to do one of the following:

<ul>
<li>
Modify the code, for example to add functionality, fix bugs, or port it to other systems.
<li>
Debug the code.
<li>
Run the code on an unsupported platform. 
</ul>



<h2>Building on a supported platform</h2>

<p>
The table below describes the prerequisites necessary to build from source on 
the supported platforms. See <a href=GettingStarted.html>here</a>
for information of the prerequisites necessary to run.

<table>
<tr><th class=left>Operating system<td class=centered>Ubuntu 16.04<td class=centered>CentOS 7
<tr><th class=left>Python version<td class=centered>3.5<td class=centered>2.7
<tr><th class=left>Name of Eclipse configurations<td class=centered>Release-ubuntu16-python3,<br>Debug-ubuntu16-python3<td class=centered>Release-centos7-python2
<tr><th class=left>Boost libraries version<td class=centered>1.58.0<td class=centered>1.53.0
<tr><th class=left>Boost libraries package<br>required to build<br>(and sufficient to run)<td class=centered>libboost-all-dev<td class=centered>boost-devel-1.53.0
<tr><th class=left>Boost libraries package<br>required to run<td class=centered>libboost-all-dev<td class=centered>boost-1.53.0
<tr><th class=left>Python package<br>required to build<br>(and sufficient to run)<td class=centered>python3-all-dev<td class=centered>python-devel-2.7.5-48
<tr><th class=left>Python package<br>required to run<td class=centered>python3<td class=centered>python-devel-2.7.5-48
<tr><th class=left>HDF5 packages<br>required to build<br>(and sufficient to run)<td class=centered>libhdf5-dev, libhdf5-cpp-11<td class=centered>hdf5-devel-1.8.12-8
<tr><th class=left>HDF5 packages<br>required to run<td class=centered>libhdf5-10, libhdf5-cpp-11<td class=centered>hdf5-1.8.12-8

<tr><th class=left>pybind11
<td>Install using <code>"pip3 install pybind11"</code>. If <code>pip3</code>
command is not available, install ubuntu package <code>python3-pip</code>.
<td>Install using <code>"pip install pybind11"</code>. If <code>pip</code>
command is not available, install CentOs 7 package <code>python-pip</code>.
</table>


<p>
Once the prerequisites listed above have been installed and you have a local copy of the repository, you have two choices to build from source:

<ul>
<li>
Use the Eclipse C++ IDE. Eclipse project files .project and .cproject are provided in the top directory of the repository. 
After opening the project files in Eclipse, you can use Eclipse commands to build the Eclipse configuration, listed in the table above, that corresponds to your platform.

<li>
Use a <code>make</code> command in the directory with name equal to the name of the Eclipse configuration, 
listed in the table above, that corresponds to your platform.
</ul>

In both cases, a successful build will create shared library <code>ExpressionMatrix.so</code> 
that can be directly imported by Python code.



 <h2>Generating documentation for the C++ code</h2>
<p>
To generate Doxygen documentation for the C++ code,
make sure you have Doxygen installed
(ubuntu package name is <code>doxygen</code>),
cd to <code>ExpressionMatrix2/doc/doxygen</code>, then issue command 
<code>doxygen</code> without arguments.

Documentation will be created in directory <code>ExpressionMatrix2/doc/doxygen/html</code>. 
The top level file
of the documentation will be <code>ExpressionMatrix2/doc/doxygen/html/index.html</code>.
Point your browser to that to see the documentation.

For readability, the C++ code does not contain
any Doxygen directives, so the generated documentation
will only contain what Doxygen can do with <code>EXTRACT_ALL=YES</code>
and without relying on documentation directives in the code.
Even with this limitation, this can be very useful to explore the C++ code.

</body>
</html>
